(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},47:function(e,t,a){e.exports=a(89)},53:function(e,t,a){},78:function(e,t,a){},89:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(21),l=a.n(s),c=(a(52),a(53),a(14)),o=a(15),i=a(17),u=a(16),m=a(18),d=a(27),h=a(10),p=a(45),b=a(91),f=a(28),E="get_currencies_rates",v="get_currencies_success",y="get_currencies_error",C={rates:{},loading:!1,error:null},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return Object(f.a)({},e,{loading:!0,error:null});case v:return Object(f.a)({},e,{rates:t.payload,loading:!1,error:null});case y:return Object(f.a)({},e,{loading:!1,error:t.payload});default:return e}},w=Object(h.c)({currencies:g}),N=a(19),O=a.n(N),j=a(20),x=a(43),D=a.n(x),k="http://data.fixer.io/api/latest",S="ed4d0f424fb4fe29f75329d141de7d07",_=function(e){var t=e.base,a=e.symbols;return D.a.get(k,{params:{access_key:S,base:a,symbols:t}})};function U(e){if(void 0!==e)if(e.response){if(e.response.status<500){var t=e.response.data.message;console.error(t)}}else console.error(e)}function T(e,t){return{type:e,payload:t}}var A=O.a.mark(I),R=O.a.mark(M);function I(e){var t,a,n,r,s;return O.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,l.next=3,Object(j.b)(_,e.payload);case 3:if(t=l.sent,a=t.data,n=a.rates,r=a.success,s=a.error,!r){l.next=11;break}return l.next=9,Object(j.c)(T(v,n));case 9:l.next=14;break;case 11:return U(s),l.next=14,Object(j.c)(T(y,s));case 14:l.next=21;break;case 16:return l.prev=16,l.t0=l.catch(0),U(l.t0),l.next=21,Object(j.c)(T(y,l.t0));case 21:case"end":return l.stop()}},A,null,[[0,16]])}function M(){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.d)(E,I);case 2:case"end":return e.stop()}},R)}var L=M,P=O.a.mark(F);function F(){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.a)([L()]);case 2:case"end":return e.stop()}},P)}var V=a(13),J=Object(V.a)(),Z=a(5),B=a(26),H=a.n(B),W=(a(78),[{baseCurrency:"USD",desireCurrency:"EUR"},{baseCurrency:"USD",desireCurrency:"JPY"},{baseCurrency:"USD",desireCurrency:"GBP"},{baseCurrency:"USD",desireCurrency:"CHF"}]),Y={USD:"$",EUR:"\u20ac",GBP:"\xa3",CHF:"CHF",JPY:"JPY"},G=function(e){var t=e.base,a=e.desire,n=e.changeCurrencies;return r.a.createElement("div",{className:"py-5 text-center"},r.a.createElement("img",{className:"d-block mx-auto mb-4",src:H.a,alt:"logo",width:"80",height:"80"}),W.map(function(e,s){var l=e.baseCurrency,c=e.desireCurrency,o=l===t&&c===a?"badge-primary":"badge-dark";return r.a.createElement("span",{key:s,className:"badge ".concat(o," badge-margin-right"),onClick:function(){return n(l,c)}},"".concat(l,"/").concat(c))}))},X=function(e){return r.a.createElement("footer",{className:"pt-4 my-md-5 pt-md-5 border-top"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-md"},r.a.createElement("img",{className:"mb-2",src:H.a,alt:"logo",width:"30",height:"30"}),r.a.createElement("small",{className:"d-block mb-3 text-muted"},"\xa9 2017-2019")),r.a.createElement("div",{className:"col-6 col-md"},r.a.createElement("h5",null,"Features"),r.a.createElement("ul",{className:"list-unstyled text-small"},r.a.createElement("li",null,r.a.createElement("a",{className:"text-muted",href:"/#"},"Cool stuff")),r.a.createElement("li",null,r.a.createElement("a",{className:"text-muted",href:"/#"},"Random feature")),r.a.createElement("li",null,r.a.createElement("a",{className:"text-muted",href:"/#"},"Team feature")),r.a.createElement("li",null,r.a.createElement("a",{className:"text-muted",href:"/#"},"Stuff for developers")),r.a.createElement("li",null,r.a.createElement("a",{className:"text-muted",href:"/#"},"Another one")),r.a.createElement("li",null,r.a.createElement("a",{className:"text-muted",href:"/#"},"Last time")))),r.a.createElement("div",{className:"col-6 col-md"},r.a.createElement("h5",null,"Resources"),r.a.createElement("ul",{className:"list-unstyled text-small"},r.a.createElement("li",null,r.a.createElement("a",{className:"text-muted",href:"/#"},"Resource")),r.a.createElement("li",null,r.a.createElement("a",{className:"text-muted",href:"/#"},"Resource name")),r.a.createElement("li",null,r.a.createElement("a",{className:"text-muted",href:"/#"},"Another resource")),r.a.createElement("li",null,r.a.createElement("a",{className:"text-muted",href:"/#"},"Final resource")))),r.a.createElement("div",{className:"col-6 col-md"},r.a.createElement("h5",null,"About"),r.a.createElement("ul",{className:"list-unstyled text-small"},r.a.createElement("li",null,r.a.createElement("a",{className:"text-muted",href:"/#"},"Team")),r.a.createElement("li",null,r.a.createElement("a",{className:"text-muted",href:"/#"},"Locations")),r.a.createElement("li",null,r.a.createElement("a",{className:"text-muted",href:"/#"},"Privacy")),r.a.createElement("li",null,r.a.createElement("a",{className:"text-muted",href:"/#"},"Terms"))))))},$=function(e){e.error;return r.a.createElement("div",{className:"toast",role:"alert","aria-live":"assertive","aria-atomic":"true","data-autohide":"false",style:{position:"absolute",top:0,right:0}},r.a.createElement("div",{className:"toast-header"},r.a.createElement("img",{src:"...",className:"rounded mr-2",alt:"..."}),r.a.createElement("strong",{className:"mr-auto"},"Error"),r.a.createElement("button",{type:"button",className:"ml-2 mb-1 close","data-dismiss":"toast","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"toast-body"},"Oops! Something went wrong"))},q=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={days:0,hours:0,min:0,sec:0},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.endDate;null!==t&&(this.interval=setInterval(function(){var a=e.calculateCountdown(t);a?e.setState(a):e.stop()},1e3))}},{key:"componentDidUpdate",value:function(e){var t=this,a=e.endDate,n=this.props.endDate;a!==n&&null!==n&&(clearInterval(this.interval),this.interval=setInterval(function(){var e=t.calculateCountdown(n);e?t.setState(e):t.stop()},1e4))}},{key:"componentWillUnmount",value:function(){this.stop()}},{key:"calculateCountdown",value:function(e){var t=(Date.parse(new Date(e))-Date.parse(new Date))/1e3;if(t<=0)return!1;var a={years:0,days:0,hours:0,min:0,sec:0,millisec:0};return t>=31557600&&(a.years=Math.floor(t/31557600),t-=365.25*a.years*86400),t>=86400&&(a.days=Math.floor(t/86400),t-=86400*a.days),t>=3600&&(a.hours=Math.floor(t/3600),t-=3600*a.hours),t>=60&&(a.min=Math.floor(t/60),t-=60*a.min),a.sec=t,a}},{key:"stop",value:function(){var e=this.props.stopCountdown;clearInterval(this.interval),e()}},{key:"addLeadingZeros",value:function(e){for(e=String(e);e.length<2;)e="0"+e;return e}},{key:"render",value:function(){var e=this.state;return r.a.createElement("div",{className:"Countdown d-none"},r.a.createElement("span",{className:"Countdown-col"},r.a.createElement("span",{className:"Countdown-col-element"},r.a.createElement("strong",null,this.addLeadingZeros(e.days)),r.a.createElement("span",null,1===e.days?"Day":"Days"))),r.a.createElement("span",{className:"Countdown-col"},r.a.createElement("span",{className:"Countdown-col-element"},r.a.createElement("strong",null,this.addLeadingZeros(e.hours)),r.a.createElement("span",null,"Hours"))),r.a.createElement("span",{className:"Countdown-col"},r.a.createElement("span",{className:"Countdown-col-element"},r.a.createElement("strong",null,this.addLeadingZeros(e.min)),r.a.createElement("span",null,"Min"))),r.a.createElement("span",{className:"Countdown-col"},r.a.createElement("span",{className:"Countdown-col-element"},r.a.createElement("strong",null,this.addLeadingZeros(e.sec)),r.a.createElement("span",null,"Sec"))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.endDate;return a!==t.endDate?{endDate:a}:null}}]),t}(n.Component),z=a(33),K=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleChange=a.handleChange.bind(Object(Z.a)(Object(Z.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(Z.a)(Object(Z.a)(a))),a.calculateExchange=a.calculateExchange.bind(Object(Z.a)(Object(Z.a)(a))),a.state={baseCurrency:"0.00",floatValue:0,desireCurrency:""},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(e){e.error;var t=e.rates,a=e.base,n=e.desire,r=e.hasToCallApi,s=e.getCurrencyRates,l=e.setCountdown,c=this.state.floatValue,o=(this.props.error,this.props.rates),i=this.props.hasToCallApi;t!==o&&this.calculateExchange(o),r!==i&&i&&"USD"===a&&"EUR"===n&&c>0&&(s({base:a,symbols:n}),l())}},{key:"handleChange",value:function(e,t,a){this.setState({baseCurrency:t,floatValue:a})}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.props,a=t.getCurrencyRates,n=t.base,r=t.desire,s=t.setCountdown;a({base:n,symbols:r}),s()}},{key:"calculateExchange",value:function(e){var t=e.USD;if(t&&t>0){var a=this.state.floatValue,n=this.state.desireCurrency;n=parseFloat(a/t),this.setState({desireCurrency:n})}}},{key:"render",value:function(){var e=this.props,t=e.base,a=e.desire,n=this.state,s=n.baseCurrency,l=n.desireCurrency,c=n.floatValue;return r.a.createElement("div",{className:"jumbotron jumbotron-fluid"},r.a.createElement("div",{className:"container"},r.a.createElement("form",null,r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-sm-12 col-md-6"},r.a.createElement(z.a,{decimalSeparator:".",thousandSeparator:",",className:"form-control",prefix:Y[t],placeholder:t,value:s,onChangeEvent:this.handleChange})),r.a.createElement("div",{className:"form-group col-sm-12 col-md-6"},r.a.createElement(z.a,{decimalSeparator:".",thousandSeparator:",",className:"form-control",prefix:Y[a],placeholder:a,value:l,onChangeEvent:this.handleChange,readOnly:!0}))),r.a.createElement("div",{className:"py-5 text-center"},r.a.createElement("button",{type:"submit",className:"btn btn-primary",disabled:!("USD"===t&&"EUR"===a&&c>0),onClick:this.handleSubmit},"CALCULATE")))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.rates,n=e.error,r=e.hasToCallApi;return n!==t.error?{error:n}:a!==t.rates?{rates:a}:r!==t.hasToCallApi?{hasToCallApi:r}:null}}]),t}(n.Component),Q={getCurrencyRates:function(e){return{type:E,payload:e}}},ee=Object(d.b)(function(e){var t=e.currencies;return{rates:t.rates,error:t.error,loading:t.loading}},Q)(K),te=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).changeCurrencies=a.changeCurrencies.bind(Object(Z.a)(Object(Z.a)(a))),a.setCountdown=a.setCountdown.bind(Object(Z.a)(Object(Z.a)(a))),a.stopCountdown=a.stopCountdown.bind(Object(Z.a)(Object(Z.a)(a))),a.state={base:"USD",desire:"EUR",endDate:null,hasToCallApi:!1},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"changeCurrencies",value:function(e,t){this.setState({base:e,desire:t})}},{key:"setCountdown",value:function(){var e=this.state.endDate;(e=new Date).setMinutes(e.getMinutes()+parseInt("10",10)),localStorage.setItem("last_date_hit",new Date),localStorage.setItem("next_date_hit",e),this.setState({endDate:e,hasToCallApi:!1})}},{key:"stopCountdown",value:function(){var e=this.state.endDate;(e=new Date).setMinutes(e.getMinutes()+parseInt("10",10)),localStorage.setItem("next_date_hit",e),this.setState({endDate:e,hasToCallApi:!0})}},{key:"render",value:function(){var e=this.state,t=e.base,a=e.desire,n=e.endDate,s=e.hasToCallApi;return r.a.createElement("div",{className:"container-fluid"},r.a.createElement($,null),r.a.createElement(G,{base:t,desire:a,changeCurrencies:this.changeCurrencies}),r.a.createElement(ee,{base:t,desire:a,hasToCallApi:s,setCountdown:this.setCountdown}),r.a.createElement(q,{endDate:n,stopCountdown:this.stopCountdown}),r.a.createElement(X,null))}}]),t}(n.Component),ae=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||h.d,ne=Object(p.a)(),re=Object(h.e)(w,{},ae(Object(h.a)(ne)));ne.run(F);var se=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,{store:re},r.a.createElement(b.b,{history:J},r.a.createElement(b.c,null,r.a.createElement(b.a,{exact:!0,path:"/",component:te}),r.a.createElement(b.a,{exact:!0,path:"/dashboard",component:te}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(86).config(),l.a.render(r.a.createElement(se,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[47,1,2]]]);
//# sourceMappingURL=main.83eea0e3.chunk.js.map